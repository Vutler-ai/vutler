# =============================================================================
# Vutler Environment Configuration
# =============================================================================
# Copy this file to `.env` and configure your local/production settings
#
# Usage: docker compose --env-file .env up
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
PORT=3000
ROOT_URL=http://localhost:3000
DEPLOY_METHOD=docker
DEPLOY_PLATFORM=

# -----------------------------------------------------------------------------
# MongoDB Configuration
# -----------------------------------------------------------------------------
# MongoDB URL with replica set (required by Rocket.Chat)
MONGO_URL=mongodb://mongo:27017/vutler?replicaSet=rs0
MONGO_OPLOG_URL=mongodb://mongo:27017/local?replicaSet=rs0

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
# Used for rate limiting and caching
REDIS_URL=redis://redis:6379

# -----------------------------------------------------------------------------
# Email — SMTP (Outbound)
# -----------------------------------------------------------------------------
# For sending emails from agents
# Examples:
#   - Gmail: smtp.gmail.com:587
#   - Infomaniak: mail.infomaniak.com:587
#   - Mailhog (local dev): mailhog:1025

SMTP_HOST=mailhog
SMTP_PORT=1025
SMTP_USER=
SMTP_PASS=
SMTP_FROM=noreply@vutler.local

# -----------------------------------------------------------------------------
# Email — IMAP (Inbound)
# -----------------------------------------------------------------------------
# For receiving emails to agents
# Examples:
#   - Gmail: imap.gmail.com:993
#   - Infomaniak: mail.infomaniak.com:993
#   - Leave empty to disable IMAP polling

IMAP_HOST=
IMAP_PORT=993
IMAP_USER=
IMAP_PASS=
IMAP_TLS=true

# IMAP polling interval (minutes)
IMAP_POLL_INTERVAL=5

# -----------------------------------------------------------------------------
# Vutler Agent Settings
# -----------------------------------------------------------------------------
# Rate limiting: max requests per minute per agent
VUTLER_AGENT_RATE_LIMIT=10

# Webhook URL to receive email notifications (optional)
VUTLER_EMAIL_WEBHOOK_URL=

# -----------------------------------------------------------------------------
# Admin User (First Run)
# -----------------------------------------------------------------------------
# These create the initial admin user on first startup
# Comment out after first run or leave empty to create via UI

ADMIN_USERNAME=admin
ADMIN_PASS=changeme
ADMIN_EMAIL=admin@vutler.local

# -----------------------------------------------------------------------------
# Security (Production)
# -----------------------------------------------------------------------------
# Generate a strong secret for production deployments
# Example: openssl rand -hex 32

# JWT_SECRET=your-secret-here-change-in-production
