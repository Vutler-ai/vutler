# =============================================================================
# VUTLER — Environment Variables
# Copy this file to .env and fill in your values.
# =============================================================================

# ─── Security (REQUIRED) ──────────────────────────────────────────────────────
# 32-character key used for AES-256-GCM encryption of stored API keys.
# CHANGE THIS before going to production! Generate with:
#   node -e "console.log(require('crypto').randomBytes(16).toString('hex'))"
LLM_ENCRYPTION_KEY=change-me-32-char-secret-key-here

# ─── Server ───────────────────────────────────────────────────────────────────
NODE_ENV=production
PORT=3001

# ─── Database ─────────────────────────────────────────────────────────────────
MONGO_URL=mongodb://mongo:27017/vutler?replicaSet=rs0

# ─── Redis ────────────────────────────────────────────────────────────────────
REDIS_URL=redis://redis:6379

# ─── CORS ─────────────────────────────────────────────────────────────────────
# Comma-separated list of allowed origins
CORS_ORIGIN=http://localhost:3000,http://localhost:3001

# ─── Managed LLM Tier (Vutler-hosted) ────────────────────────────────────────
# Your organisation's MiniMax API key for the economy/standard/premium tiers.
# Leave empty to disable managed LLM (users must BYOKEY).
MANAGED_LLM_KEY=
MANAGED_LLM_PROVIDER=minimax

# ─── SMTP (Email send) ────────────────────────────────────────────────────────
# In development, leave as MailHog defaults:
SMTP_HOST=mailhog
SMTP_PORT=1025
SMTP_USER=
SMTP_PASS=
SMTP_FROM=noreply@vutler.local

# Production example (Gmail SMTP):
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=you@gmail.com
# SMTP_PASS=your-app-password
# SMTP_FROM=you@gmail.com

# ─── IMAP (Email receive) ─────────────────────────────────────────────────────
# Leave empty to disable email receiving.
IMAP_HOST=
IMAP_PORT=993
IMAP_USER=
IMAP_PASS=
IMAP_TLS=true
# How often to poll inbox (minutes)
IMAP_POLL_INTERVAL=5

# ─── Drive (File Storage) ─────────────────────────────────────────────────────
# Directory where uploaded files are stored.
DRIVE_STORAGE_PATH=/data/vutler/drive
# Max upload size in bytes (default 50MB)
DRIVE_MAX_FILE_SIZE=52428800

# ─── OpenClaw Runtime ─────────────────────────────────────────────────────────
# Path to the openclaw binary for spawning agent processes.
# Leave as "openclaw" if it's in $PATH.
OPENCLAW_PATH=openclaw

# ─── Vutler Agent Settings ───────────────────────────────────────────────────
# Max requests per agent per minute
VUTLER_AGENT_RATE_LIMIT=10
# Webhook URL to call when new emails arrive (optional)
VUTLER_EMAIL_WEBHOOK_URL=

# ─── Rocket.Chat Integration ──────────────────────────────────────────────────
# These are set automatically by docker-compose.
# Only needed if you run the API outside Docker.
# ROCKETCHAT_URL=http://localhost:3000
# ROCKETCHAT_ADMIN_USER=admin
# ROCKETCHAT_ADMIN_PASS=admin
